create table roles(
                      role_id int PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
                      name varchar(255) UNIQUE NOT NULL
);

create table users(
                      user_id uuid primary key,
                      name varchar(255) NOT NULL,
                      login varchar(255) UNIQUE NOT NULL,
                      password varchar(255) NOT NULL,
                      role_id int REFERENCES roles (role_id) on delete set null,
                      avatar int,
                      gender varchar(20) NOT NULL,
                      birth_date timestamp,
                      registered_at timestamp,
                      last_activity_at timestamp,
    check ( gender = 'male' or gender = 'female' )
);

insert into roles (name) values ('PUPIL');
insert into roles (name) values ('TEACHER');
insert into roles (name) values ('EDITOR');